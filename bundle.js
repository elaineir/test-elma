(()=>{"use strict";const e="assignByDate",t={parentSelector:".backlog__tasks-container",templateSelector:".template-card-backlog",elementSelector:".card-backlog",titleSelector:".card-backlog__title",descriptionSelector:".card-backlog__description",startDateSelector:".card-backlog__date-span_start",endDateSelector:".card-backlog__date-span_end",dragStartClass:"card-backlog_draggable"},a={parentSelector:".board__users",templateSelector:".template-card-user",elementSelector:".card-user",userNameSelector:".card-user__name",dragOverClass:"card-user_drag-over"},s={parentSelector:".board__calendar",templateSelector:".template-calendar-column",elementSelector:".calendar-column",dateCellSelector:".calendar-column__date",currentDayClass:"calendar-column_current-day"},r={templateSelector:".template-calendar-cell",elementSelector:".calendar-cell",elementClass:"calendar-cell",dragOverClass:"calendar-cell_drag-over"},l={templateSelector:".template-calendar-task",elementSelector:".calendar-task",elementClass:"calendar-task",titleSelector:".calendar-task__title",subtitleSelector:".calendar-task__subtitle",descriptionSelector:".calendar-task__description",startDateSelector:".calendar-task__date-span_start",endDateSelector:".calendar-task__date-span_end"},n="ru-RU",c={weekday:"short",year:"numeric",month:"short",day:"numeric"},i={day:"numeric",month:"numeric"},d="isThemeDark",o=e=>new Date(e).toLocaleDateString(n,c),h=e=>new Date(e).toLocaleDateString("en-CA"),_=new class{constructor(){this._subscribers=[],this._assignedTasks=[],this._backlogTasks=[],this._users=[],this._usersIds={},this._calendarLength=7,this._currentDate=new Date,this._currentDateNumeric=h(new Date),this._startDay=this._updateAndSetDates()}_removeTaskFromBacklog(e){this._backlogTasks=this._backlogTasks.filter((t=>t.id!==e))}_callSubscribers(){this._subscribers.forEach((e=>e()))}_updateAndSetDates(){const e=new Date(this._currentDate.setHours(0,0,0,0));return e.setDate(e.getDate()-e.getDay()+(0===e.getDay()?-6:1))}get assignedTasks(){return this._assignedTasks}get backlogTasks(){return this._backlogTasks}get usersIds(){return this._usersIds}set users(e){this._users=e}get users(){return this._users}get calendarLength(){return this._calendarLength}get startDay(){return this._startDay}set startDay(e){this._startDay=e}get currentDateNumeric(){return this._currentDateNumeric}addTaskToAssignedTasks(e){this._assignedTasks.push(e)}assignTask({type:t,taskId:a,executorId:s,startDate:r}){const l=this._backlogTasks.find((e=>a===e.id));if(l.executor=+s,t===e){if(this._currentDate>Date.parse(r))return;if(l.planEndDate===l.planStartDate)l.planEndDate=r;else{const e=Date.parse(l.planEndDate)-Date.parse(l.planStartDate),t=Date.parse(r)+e;l.planEndDate=h(t)}l.planStartDate=r}this.addTaskToAssignedTasks(l),this._removeTaskFromBacklog(a),this._callSubscribers()}addTaskToBacklog(e){this._backlogTasks.push(e)}mapUsersIds(e){const t=e.reduce(((e,{id:t},a)=>({...e,[a]:t})),{});this._usersIds={...t}}addSubscribers(e){this._subscribers=[...e]}},u=async e=>{return(t=await fetch(`https://varankin_dev.elma365.ru/api/extensions/2a38760e-083a-4dd0-aebc-78b570bfd3c7/script${e}`,{method:"GET"})).ok?t.json():Promise.reject(t);var t},m=class{constructor({templateSelector:e,elementSelector:t}){this._templateSelector=e,this._elementSelector=t}_getTemplate(){return this._template=document.querySelector(this._templateSelector).content,this._template.querySelector(this._elementSelector).cloneNode(!0)}},p=class extends m{constructor(e,{templateSelector:t,elementSelector:a,titleSelector:s,descriptionSelector:r,startDateSelector:l,endDateSelector:n,dragStartClass:c}){super({templateSelector:t,elementSelector:a}),this._cardData=e,this._backlogCard=super._getTemplate(),this._dragStartClass=c,this._cardTitle=this._backlogCard.querySelector(s),this._cardDescription=this._backlogCard.querySelector(r),this._cardStartDate=this._backlogCard.querySelector(l),this._cardEndDate=this._backlogCard.querySelector(n),this._handleDragStart=this._handleDragStart.bind(this),this._handleDragEnd=this._handleDragEnd.bind(this)}_handleDragStart(e){this._backlogCard.classList.add(this._dragStartClass),e.dataTransfer.setData("text/plain",this._cardData.id),e.dataTransfer.effectAllowed="move"}_handleDragEnd(){this._backlogCard.classList.remove(this._dragStartClass)}createCard(){return this._cardTitle.textContent=this._cardData.subject,this._cardDescription.textContent=this._cardData.description,this._cardStartDate.textContent=o(this._cardData.planStartDate),this._cardEndDate.textContent=o(this._cardData.planEndDate),this._backlogCard.setAttribute("id",this._cardData.id),this._backlogCard}setEventListeners(){this._backlogCard.addEventListener("dragstart",this._handleDragStart),this._backlogCard.addEventListener("dragend",this._handleDragEnd)}},D=class{constructor(e){this._container=document.querySelector(e),this.clearItems=this.clearItems.bind(this)}addItem(e){this._container.append(e)}clearItems(){this._container.textContent=""}addTextContent(e){this._container.textContent=e}},g=class extends m{constructor(e,{templateSelector:t,elementSelector:a,titleSelector:s,subtitleSelector:r,descriptionSelector:l,startDateSelector:n,endDateSelector:c}){super({templateSelector:t,elementSelector:a}),this._task=e,this._taskElement=super._getTemplate(),this._titleELement=this._taskElement.querySelector(s),this._subtitleELement=this._taskElement.querySelector(r),this._descriptionElement=this._taskElement.querySelector(l),this._startDateElement=this._taskElement.querySelector(n),this._endDateElement=this._taskElement.querySelector(c)}createTask(){return this._titleELement.textContent=this._task.subject,this._subtitleELement.textContent=this._task.subject,this._descriptionElement.textContent=this._task.description,this._startDateElement.textContent=o(this._task.planStartDate),this._endDateElement.textContent=o(this._task.planEndDate),this._taskElement}},S=class extends m{constructor(e,{templateSelector:t,elementSelector:a}){super({templateSelector:t,elementSelector:a}),this._cell=e,this._cellElement=super._getTemplate()}_addItem(e){this._cellElement.append(e)}createCell(){return this._cellElement.setAttribute("data-executor",this._cell.executor),this._cellElement.setAttribute("data-date",this._cell.date),this._cellElement}renderItems(){this._cell.tasks.forEach((e=>{const t=new g(e,l);this._addItem(t.createTask())}))}},k=class extends m{constructor(e,{templateSelector:t,elementSelector:a,dateCellSelector:s,currentDayClass:r}){super({templateSelector:t,elementSelector:a}),this._column=e,this._calendarColumn=super._getTemplate(),this._dateElement=this._calendarColumn.querySelector(s),this._currentDayClass=r,this._dayTasksSchema={}}_getTasksForCurrentDay(e){const t=Date.parse(this._column.date);return e.filter((e=>Date.parse(e.planStartDate)<=t&&t<=Date.parse(e.planEndDate)))}_getDayTasksSchema(){this._tasksForCurrentDay=this._getTasksForCurrentDay(_.assignedTasks),this._tasksForCurrentDay&&this._tasksForCurrentDay.forEach((e=>{this._dayTasksSchema[e.executor]?this._dayTasksSchema[e.executor]=[...this._dayTasksSchema[e.executor],e]:this._dayTasksSchema[e.executor]=[e]}))}createCells(){this._getDayTasksSchema();for(let e=0;e<_.users.length;e+=1){const t=_.usersIds[e],a=new S({executor:t,date:this._column.date,tasks:this._dayTasksSchema[t]??[]},r),s=a.createCell();a.renderItems(),this.addItem(s)}}createCalendarColumn(){const e=new Date(this._column.date);return this._dateElement.textContent=new Date(e).toLocaleDateString(n,i),this._column.date===_.currentDateNumeric&&this._calendarColumn.classList.add(this._currentDayClass),this.createCells(),this._calendarColumn}addItem(e){this._calendarColumn.append(e)}},b=class extends m{constructor(e,{templateSelector:t,elementSelector:a,userNameSelector:s,dragOverClass:r}){super({templateSelector:t,elementSelector:a}),this._cardData=e,this._userCard=super._getTemplate(),this._fullNameElement=this._userCard.querySelector(s),this._dragOverClass=r,this._handleDragOver=this._handleDragOver.bind(this),this._handleDragLeave=this._handleDragLeave.bind(this),this._handleDrop=this._handleDrop.bind(this)}_handleDragOver(e){e.dataTransfer&&"text/plain"===e.dataTransfer.types[0]&&(e.preventDefault(),this._userCard.classList.add(this._dragOverClass))}_handleDragLeave(){this._userCard.classList.remove(this._dragOverClass)}_handleDrop(e){e.preventDefault();const t=e.dataTransfer.getData("text/plain");_.assignTask({type:"assignByUser",taskId:t,executorId:this._cardData.id}),this._handleDragLeave()}createCard(){return this._fullNameElement.textContent=`${this._cardData.firstName} ${this._cardData.surname}`,this._userCard}setEventListeners(){this._userCard.addEventListener("dragover",this._handleDragOver),this._userCard.addEventListener("dragleave",this._handleDragLeave),this._userCard.addEventListener("drop",this._handleDrop)}},C=e=>{setTimeout((()=>{e.removeAttribute("style")}),1100)},y=(e,t)=>{e.setAttribute("style",`animation: slide-in-bottom-up 0.5s ease-out 0.${t}s forwards; opacity: 0;`),C(e)},v=document.querySelector(".page"),T=document.querySelector(".preloader"),E=new class{constructor(e){this._selectors=e,this._popup=document.querySelector(e.popupError)}open(){this._popup.classList.add(this._selectors.popupOpenClass),this._close()}_close(){setTimeout((()=>{this._popup.classList.remove(this._selectors.popupOpenClass)}),3e3)}}({popupError:".popup_error",popupOpenClass:"popup_open"}),L=new D(t.parentSelector),f=new D(a.parentSelector),x=new class extends D{constructor(e){super(e),this._handleDragOver=this._handleDragOver.bind(this),this._handleDragLeave=this._handleDragLeave.bind(this),this._handleDrop=this._handleDrop.bind(this)}_handleDragOver(e){const{target:t}=e;e.dataTransfer&&"text/plain"===e.dataTransfer.types[0]&&(t.classList.contains(r.elementClass)||t.classList.contains(l.elementClass))&&(e.preventDefault(),this._droppableCell=t.closest(r.elementSelector),this._droppableCell.classList.add(r.dragOverClass))}_handleDragLeave(){this._droppableCell.classList.remove(r.dragOverClass)}_handleDrop(t){t.preventDefault();const a=t.dataTransfer.getData("text/plain");_.assignTask({type:e,taskId:a,executorId:this._droppableCell.dataset.executor,startDate:this._droppableCell.dataset.date}),this._handleDragLeave()}setEventListeners(){this._container.addEventListener("dragover",this._handleDragOver),this._container.addEventListener("dragleave",this._handleDragLeave),this._container.addEventListener("drop",this._handleDrop)}}(s.parentSelector);x.setEventListeners();const I=e=>{for(let r=0;r<_.calendarLength;r+=1){const l=_.startDay+864e5*r,n=h(l),c=new k({date:n},s).createCalendarColumn();e&&(a=r,(t=c).setAttribute("style",`animation: slide-in-right-left 0.5s ease-out 0.${a}s forwards; opacity: 0;`),C(t)),x.addItem(c)}var t,a},w=e=>{const a=new p(e,t),s=a.createCard();return a.setEventListeners(),s},q=()=>{_.backlogTasks.forEach(((e,t)=>{const a=w(e);y(a,t),L.addItem(a)}))};(async()=>{try{const e=await u("/users");(await u("/tasks")).forEach((e=>{e.executor?_.addTaskToAssignedTasks(e):_.addTaskToBacklog(e)})),_.users=e,_.mapUsersIds(e),((e,t)=>{e.forEach(((e,t)=>{const s=new b(e,a),r=s.createCard();y(r,t),s.setEventListeners(),f.addItem(r)}))})(e),I(!0),q()}catch(e){E.open()}v.classList.remove("page_hidden"),T.classList.remove("preloader_visible")})(),((e,t,a)=>{const s=document.querySelector(".search-form"),r=s.querySelector(".search-form__input"),l=s.querySelector(".button_search");s.addEventListener("submit",(s=>{s.preventDefault();const n=r.value;let c;n.length&&(c=_.backlogTasks.filter((e=>e.subject.toLowerCase().includes(n.toLowerCase()))),e.clearItems(),c.length?c.forEach((a=>{const s=t(a);e.addItem(s)})):(e.addTextContent("Ничего не нашлось"),l.disabled=!0,setTimeout((()=>{e.clearItems(),a(),l.disabled=!1}),3e3)))}))})(L,w,q),((e,t)=>{const a=document.querySelector(".button_next"),s=document.querySelector(".button_prev");a.addEventListener("click",(()=>{e(),_.startDay+=6048e5,t()})),s.addEventListener("click",(()=>{e(),_.startDay-=6048e5,t()}))})(x.clearItems,I),(({bodySelector:e,bodyNewThemeClass:t,buttonSelector:a})=>{const s=document.querySelector(e),r=document.querySelector(a);JSON.parse(localStorage.getItem(d))&&s.classList.add(t),r.addEventListener("click",(()=>{s.classList.contains(t)?(s.classList.remove(t),localStorage.setItem(d,JSON.stringify(!1))):(s.classList.add(t),localStorage.setItem(d,JSON.stringify(!0)))}))})({bodySelector:".body",bodyNewThemeClass:"body_theme_dark",buttonSelector:".button_theme",buttonNewThemeClass:"button_theme_dark"}),_.addSubscribers([x.clearItems,L.clearItems,I,q])})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aUJBQWlCLFNBZlgsS0FDbkJvRyxJQUNBLFlBQXlCRyxPQUN6QmIsT0FhRlksRUFBZXRHLGlCQUFpQixTQVZYLEtBQ25Cb0csSUFDQSxZQUF5QkcsT0FDekJiLFFMNEZKLENBQXVCdEIsRUFBa0JqRSxXQUFZdUUsR012R3hCLEdBQUc4QixhQUFBQSxFQUFjQyxrQkFBQUEsRUFBbUJDLGVBQUFBLE1BQy9ELE1BQU1DLEVBQU94SSxTQUFTQyxjQUFjb0ksR0FDOUJJLEVBQXlCekksU0FBU0MsY0FBY3NJLEdBRWxDRyxLQUFLcEssTUFBTXFLLGFBQWFDLFFBQVFyTixLQUdsRGlOLEVBQUt2SCxVQUFVQyxJQUFJb0gsR0FhckJHLEVBQXVCNUcsaUJBQWlCLFNBVmIsS0FDckIyRyxFQUFLdkgsVUFBVWtGLFNBQVNtQyxJQUMxQkUsRUFBS3ZILFVBQVVLLE9BQU9nSCxHQUN0QkssYUFBYUUsUUFBUXROLEVBQXNCbU4sS0FBS0ksV0FBVSxNQUUxRE4sRUFBS3ZILFVBQVVDLElBQUlvSCxHQUNuQkssYUFBYUUsUUFBUXROLEVBQXNCbU4sS0FBS0ksV0FBVSxTTnlGaEUsQ1ozR21DLENBQ2pDVCxhQUFjLFFBQ2RDLGtCQUFtQixrQkFDbkJDLGVBQWdCLGdCQUNoQlEsb0JBQXFCLHNCWTBHdkIsaUJBQTRCLENBQzFCOUMsRUFBa0JqRSxXQUNsQitELEVBQVkvRCxXQUNadUUsRUFDQU8sSyIsInNvdXJjZXMiOlsid2VicGFjazovL3Rlc3QtZWxtYS8uL3NyYy9zdGF0ZS90eXBlcy5qcyIsIndlYnBhY2s6Ly90ZXN0LWVsbWEvLi9zcmMvY29uZmlnL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly90ZXN0LWVsbWEvLi9zcmMvdXRpbHMvaGFuZGxlLWRhdGVzLmpzIiwid2VicGFjazovL3Rlc3QtZWxtYS8uL3NyYy9zdGF0ZS9Qcm9qZWN0U3RhdGUuanMiLCJ3ZWJwYWNrOi8vdGVzdC1lbG1hLy4vc3JjL2FwaS9tYWluLWFwaS5qcyIsIndlYnBhY2s6Ly90ZXN0LWVsbWEvLi9zcmMvY29tcG9uZW50cy9Db21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vdGVzdC1lbG1hLy4vc3JjL2NvbXBvbmVudHMvQmFja2xvZ0NhcmQuanMiLCJ3ZWJwYWNrOi8vdGVzdC1lbG1hLy4vc3JjL2NvbXBvbmVudHMvUmVuZGVyZXJTZWN0aW9uLmpzIiwid2VicGFjazovL3Rlc3QtZWxtYS8uL3NyYy9jb21wb25lbnRzL0NhbGVuZGFyVGFzay5qcyIsIndlYnBhY2s6Ly90ZXN0LWVsbWEvLi9zcmMvY29tcG9uZW50cy9DYWxlbmRhckNlbGwuanMiLCJ3ZWJwYWNrOi8vdGVzdC1lbG1hLy4vc3JjL2NvbXBvbmVudHMvQ2FsZW5kYXJDb2x1bW4uanMiLCJ3ZWJwYWNrOi8vdGVzdC1lbG1hLy4vc3JjL2NvbXBvbmVudHMvVXNlckNhcmQuanMiLCJ3ZWJwYWNrOi8vdGVzdC1lbG1hLy4vc3JjL3V0aWxzL2FwcGx5LXN0eWxlLWFuaW1hdGlvbi5qcyIsIndlYnBhY2s6Ly90ZXN0LWVsbWEvLi9zcmMvYXBwLmpzIiwid2VicGFjazovL3Rlc3QtZWxtYS8uL3NyYy9jb21wb25lbnRzL1BvcHVwRXJyb3IuanMiLCJ3ZWJwYWNrOi8vdGVzdC1lbG1hLy4vc3JjL2NvbXBvbmVudHMvQ2FsZW5kYXIuanMiLCJ3ZWJwYWNrOi8vdGVzdC1lbG1hLy4vc3JjL2NvbmZpZy9jb25maWcuanMiLCJ3ZWJwYWNrOi8vdGVzdC1lbG1hLy4vc3JjL3V0aWxzL3NlYXJjaC5qcyIsIndlYnBhY2s6Ly90ZXN0LWVsbWEvLi9zcmMvdXRpbHMvc3dpdGNoLWJldHdlZW4td2Vla3MuanMiLCJ3ZWJwYWNrOi8vdGVzdC1lbG1hLy4vc3JjL3V0aWxzL3RvZ2dsZS1jb2xvci10aGVtZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgQVNTSUdOX0JZX1VTRVIgPSAnYXNzaWduQnlVc2VyJztcbmV4cG9ydCBjb25zdCBBU1NJR05fQllfREFURSA9ICdhc3NpZ25CeURhdGUnO1xuIiwiZXhwb3J0IGNvbnN0IHRvZ2dsZVRoZW1lU2V0dGluZ3MgPSB7XG4gIGJvZHlTZWxlY3RvcjogJy5ib2R5JyxcbiAgYm9keU5ld1RoZW1lQ2xhc3M6ICdib2R5X3RoZW1lX2RhcmsnLFxuICBidXR0b25TZWxlY3RvcjogJy5idXR0b25fdGhlbWUnLFxuICBidXR0b25OZXdUaGVtZUNsYXNzOiAnYnV0dG9uX3RoZW1lX2RhcmsnLFxufTtcblxuZXhwb3J0IGNvbnN0IGJhY2tsb2dDYXJkU2VsZWN0b3JzID0ge1xuICBwYXJlbnRTZWxlY3RvcjogJy5iYWNrbG9nX190YXNrcy1jb250YWluZXInLFxuICB0ZW1wbGF0ZVNlbGVjdG9yOiAnLnRlbXBsYXRlLWNhcmQtYmFja2xvZycsXG4gIGVsZW1lbnRTZWxlY3RvcjogJy5jYXJkLWJhY2tsb2cnLFxuICB0aXRsZVNlbGVjdG9yOiAnLmNhcmQtYmFja2xvZ19fdGl0bGUnLFxuICBkZXNjcmlwdGlvblNlbGVjdG9yOiAnLmNhcmQtYmFja2xvZ19fZGVzY3JpcHRpb24nLFxuICBzdGFydERhdGVTZWxlY3RvcjogJy5jYXJkLWJhY2tsb2dfX2RhdGUtc3Bhbl9zdGFydCcsXG4gIGVuZERhdGVTZWxlY3RvcjogJy5jYXJkLWJhY2tsb2dfX2RhdGUtc3Bhbl9lbmQnLFxuICBkcmFnU3RhcnRDbGFzczogJ2NhcmQtYmFja2xvZ19kcmFnZ2FibGUnLFxufTtcblxuZXhwb3J0IGNvbnN0IHVzZXJzQ2FyZFNlbGVjdG9ycyA9IHtcbiAgcGFyZW50U2VsZWN0b3I6ICcuYm9hcmRfX3VzZXJzJyxcbiAgdGVtcGxhdGVTZWxlY3RvcjogJy50ZW1wbGF0ZS1jYXJkLXVzZXInLFxuICBlbGVtZW50U2VsZWN0b3I6ICcuY2FyZC11c2VyJyxcbiAgdXNlck5hbWVTZWxlY3RvcjogJy5jYXJkLXVzZXJfX25hbWUnLFxuICBkcmFnT3ZlckNsYXNzOiAnY2FyZC11c2VyX2RyYWctb3ZlcicsXG59O1xuXG5leHBvcnQgY29uc3QgY2FsZW5kYXJDb2x1bW5TZWxlY3RvcnMgPSB7XG4gIHBhcmVudFNlbGVjdG9yOiAnLmJvYXJkX19jYWxlbmRhcicsXG4gIHRlbXBsYXRlU2VsZWN0b3I6ICcudGVtcGxhdGUtY2FsZW5kYXItY29sdW1uJyxcbiAgZWxlbWVudFNlbGVjdG9yOiAnLmNhbGVuZGFyLWNvbHVtbicsXG4gIGRhdGVDZWxsU2VsZWN0b3I6ICcuY2FsZW5kYXItY29sdW1uX19kYXRlJyxcbiAgY3VycmVudERheUNsYXNzOiAnY2FsZW5kYXItY29sdW1uX2N1cnJlbnQtZGF5Jyxcbn07XG5cbmV4cG9ydCBjb25zdCBjYWxlbmRhckNlbGxTZWxlY3RvcnMgPSB7XG4gIHRlbXBsYXRlU2VsZWN0b3I6ICcudGVtcGxhdGUtY2FsZW5kYXItY2VsbCcsXG4gIGVsZW1lbnRTZWxlY3RvcjogJy5jYWxlbmRhci1jZWxsJyxcbiAgZWxlbWVudENsYXNzOiAnY2FsZW5kYXItY2VsbCcsXG4gIGRyYWdPdmVyQ2xhc3M6ICdjYWxlbmRhci1jZWxsX2RyYWctb3ZlcicsXG59O1xuXG5leHBvcnQgY29uc3QgY2FsZW5kYXJUYXNrU2VsZWN0b3JzID0ge1xuICB0ZW1wbGF0ZVNlbGVjdG9yOiAnLnRlbXBsYXRlLWNhbGVuZGFyLXRhc2snLFxuICBlbGVtZW50U2VsZWN0b3I6ICcuY2FsZW5kYXItdGFzaycsXG4gIGVsZW1lbnRDbGFzczogJ2NhbGVuZGFyLXRhc2snLFxuICB0aXRsZVNlbGVjdG9yOiAnLmNhbGVuZGFyLXRhc2tfX3RpdGxlJyxcbiAgc3VidGl0bGVTZWxlY3RvcjogJy5jYWxlbmRhci10YXNrX19zdWJ0aXRsZScsXG4gIGRlc2NyaXB0aW9uU2VsZWN0b3I6ICcuY2FsZW5kYXItdGFza19fZGVzY3JpcHRpb24nLFxuICBzdGFydERhdGVTZWxlY3RvcjogJy5jYWxlbmRhci10YXNrX19kYXRlLXNwYW5fc3RhcnQnLFxuICBlbmREYXRlU2VsZWN0b3I6ICcuY2FsZW5kYXItdGFza19fZGF0ZS1zcGFuX2VuZCcsXG59O1xuXG5leHBvcnQgY29uc3Qgd2Vla0J1dHRvbnNTZWxlY3RvcnMgPSB7XG4gIG5leHRXZWVrQnV0dG9uOiAnLmJ1dHRvbl9uZXh0JyxcbiAgcHJldldlZWtCdXR0b246ICcuYnV0dG9uX3ByZXYnLFxufTtcblxuZXhwb3J0IGNvbnN0IHBvcHVwU2VsZWN0b3JzID0ge1xuICBwb3B1cEVycm9yOiAnLnBvcHVwX2Vycm9yJyxcbiAgcG9wdXBPcGVuQ2xhc3M6ICdwb3B1cF9vcGVuJyxcbn07XG5cbmV4cG9ydCBjb25zdCBzZWFyY2hGb3JtU2VsZWN0b3JzID0ge1xuICBzZWFyY2hGb3JtOiAnLnNlYXJjaC1mb3JtJyxcbiAgc2VhcmNoSW5wdXQ6ICcuc2VhcmNoLWZvcm1fX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uOiAnLmJ1dHRvbl9zZWFyY2gnLFxufTtcblxuZXhwb3J0IGNvbnN0IHByZWxvYWRlclN0YXRlU2VsZWN0b3JzID0ge1xuICBwYWdlU2VsZWN0b3I6ICcucGFnZScsXG4gIHBhZ2VIaWRkZW5DbGFzczogJ3BhZ2VfaGlkZGVuJyxcbiAgcHJlbG9hZGVyU2VsZWN0b3I6ICcucHJlbG9hZGVyJyxcbiAgcHJlbG9hZGVyVmlzaWJsZUNsYXNzOiAncHJlbG9hZGVyX3Zpc2libGUnLFxufTtcblxuZXhwb3J0IGNvbnN0IGRhdGVTZXR0aW5ncyA9IHtcbiAgbG9jYWxlOiAncnUtUlUnLFxuICBvcHRpb25zOiB7XG4gICAgd2Vla2RheTogJ3Nob3J0JyxcbiAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgbW9udGg6ICdzaG9ydCcsXG4gICAgZGF5OiAnbnVtZXJpYycsXG4gIH0sXG4gIG51bWVyaWM6IHtcbiAgICBkYXk6ICdudW1lcmljJyxcbiAgICBtb250aDogJ251bWVyaWMnLFxuICB9LFxufTtcblxuZXhwb3J0IGNvbnN0IGZ1bGxEYXlJbk1pbGxpc2Vjb25kcyA9IDM2MDAgKiAyNCAqIDEwMDA7XG5leHBvcnQgY29uc3QgdGltZXJEZWxheSA9IDMwMDA7XG5leHBvcnQgY29uc3QgbG9jYWxTdG9yYWdlVGhlbWVLZXkgPSAnaXNUaGVtZURhcmsnO1xuIiwiaW1wb3J0IHsgZGF0ZVNldHRpbmdzIH0gZnJvbSAnLi4vY29uZmlnL2NvbnN0YW50cyc7XG5cbmNvbnN0IHJlZmluZVRvU3RyaW5nID0gKGRhdGUpID0+XG4gIG5ldyBEYXRlKGRhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZyhkYXRlU2V0dGluZ3MubG9jYWxlLCBkYXRlU2V0dGluZ3Mub3B0aW9ucyk7XG5cbmNvbnN0IHJlZmluZVRvTnVtZXJpY0RETU0gPSAoZGF0ZSkgPT5cbiAgbmV3IERhdGUoZGF0ZSkudG9Mb2NhbGVEYXRlU3RyaW5nKGRhdGVTZXR0aW5ncy5sb2NhbGUsIGRhdGVTZXR0aW5ncy5udW1lcmljKTtcblxuY29uc3QgcmVmaW5lVG9OdW1lcmljWVlNTUREID0gKGRhdGUpID0+IG5ldyBEYXRlKGRhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tQ0EnKTtcblxuZXhwb3J0IHsgcmVmaW5lVG9TdHJpbmcsIHJlZmluZVRvTnVtZXJpY0RETU0sIHJlZmluZVRvTnVtZXJpY1lZTU1ERCB9O1xuIiwiaW1wb3J0IHsgQVNTSUdOX0JZX0RBVEUgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IHJlZmluZVRvTnVtZXJpY1lZTU1ERCB9IGZyb20gJy4uL3V0aWxzL2hhbmRsZS1kYXRlcyc7XG5cbmNsYXNzIFByb2plY3RTdGF0ZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3N1YnNjcmliZXJzID0gW107XG4gICAgdGhpcy5fYXNzaWduZWRUYXNrcyA9IFtdO1xuICAgIHRoaXMuX2JhY2tsb2dUYXNrcyA9IFtdO1xuICAgIHRoaXMuX3VzZXJzID0gW107XG4gICAgdGhpcy5fdXNlcnNJZHMgPSB7fTtcbiAgICB0aGlzLl9jYWxlbmRhckxlbmd0aCA9IDc7XG4gICAgdGhpcy5fY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIHRoaXMuX2N1cnJlbnREYXRlTnVtZXJpYyA9IHJlZmluZVRvTnVtZXJpY1lZTU1ERChuZXcgRGF0ZSgpKTtcbiAgICB0aGlzLl9zdGFydERheSA9IHRoaXMuX3VwZGF0ZUFuZFNldERhdGVzKCk7XG4gIH1cblxuICBfcmVtb3ZlVGFza0Zyb21CYWNrbG9nKHRhc2tJZCkge1xuICAgIHRoaXMuX2JhY2tsb2dUYXNrcyA9IHRoaXMuX2JhY2tsb2dUYXNrcy5maWx0ZXIoKHRhc2spID0+IHRhc2suaWQgIT09IHRhc2tJZCk7XG4gIH1cblxuICBfY2FsbFN1YnNjcmliZXJzKCkge1xuICAgIHRoaXMuX3N1YnNjcmliZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcigpKTtcbiAgfVxuXG4gIF91cGRhdGVBbmRTZXREYXRlcygpIHtcbiAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZSh0aGlzLl9jdXJyZW50RGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKSk7XG5cbiAgICByZXR1cm4gc3RhcnREYXRlLnNldERhdGUoXG4gICAgICBzdGFydERhdGUuZ2V0RGF0ZSgpIC0gc3RhcnREYXRlLmdldERheSgpICsgKHN0YXJ0RGF0ZS5nZXREYXkoKSA9PT0gMCA/IC02IDogMSlcbiAgICApO1xuICB9XG5cbiAgZ2V0IGFzc2lnbmVkVGFza3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fzc2lnbmVkVGFza3M7XG4gIH1cblxuICBnZXQgYmFja2xvZ1Rhc2tzKCkge1xuICAgIHJldHVybiB0aGlzLl9iYWNrbG9nVGFza3M7XG4gIH1cblxuICBnZXQgdXNlcnNJZHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3VzZXJzSWRzO1xuICB9XG5cbiAgc2V0IHVzZXJzKHZhbHVlKSB7XG4gICAgdGhpcy5fdXNlcnMgPSB2YWx1ZTtcbiAgfVxuXG4gIGdldCB1c2VycygpIHtcbiAgICByZXR1cm4gdGhpcy5fdXNlcnM7XG4gIH1cblxuICBnZXQgY2FsZW5kYXJMZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NhbGVuZGFyTGVuZ3RoO1xuICB9XG5cbiAgZ2V0IHN0YXJ0RGF5KCkge1xuICAgIHJldHVybiB0aGlzLl9zdGFydERheTtcbiAgfVxuXG4gIHNldCBzdGFydERheSh2YWx1ZSkge1xuICAgIHRoaXMuX3N0YXJ0RGF5ID0gdmFsdWU7XG4gIH1cblxuICBnZXQgY3VycmVudERhdGVOdW1lcmljKCkge1xuICAgIHJldHVybiB0aGlzLl9jdXJyZW50RGF0ZU51bWVyaWM7XG4gIH1cblxuICBhZGRUYXNrVG9Bc3NpZ25lZFRhc2tzKHRhc2spIHtcbiAgICB0aGlzLl9hc3NpZ25lZFRhc2tzLnB1c2godGFzayk7XG4gIH1cblxuICBhc3NpZ25UYXNrKHsgdHlwZSwgdGFza0lkLCBleGVjdXRvcklkLCBzdGFydERhdGUgfSkge1xuICAgIGNvbnN0IHRhc2tUb0JlQXNzaWduZWQgPSB0aGlzLl9iYWNrbG9nVGFza3MuZmluZCgodGFzaykgPT4gdGFza0lkID09PSB0YXNrLmlkKTtcbiAgICB0YXNrVG9CZUFzc2lnbmVkLmV4ZWN1dG9yID0gK2V4ZWN1dG9ySWQ7XG5cbiAgICAvLyDQt9Cw0L/RgNC+0YEg0LjQtyDQutCw0LvQtdC90LTQsNGA0Y9cbiAgICBpZiAodHlwZSA9PT0gQVNTSUdOX0JZX0RBVEUpIHtcbiAgICAgIGlmICh0aGlzLl9jdXJyZW50RGF0ZSA+IERhdGUucGFyc2Uoc3RhcnREYXRlKSkge1xuICAgICAgICAvLyDQv9C+0L/Ri9GC0LrQsCDQvdCw0LfQvdCw0YfQuNGC0Ywg0LfQsNC00LDQvdC40LUg0L3QsCBcItCy0YfQtdGA0LBcIlxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXNrVG9CZUFzc2lnbmVkLnBsYW5FbmREYXRlID09PSB0YXNrVG9CZUFzc2lnbmVkLnBsYW5TdGFydERhdGUpIHtcbiAgICAgICAgdGFza1RvQmVBc3NpZ25lZC5wbGFuRW5kRGF0ZSA9IHN0YXJ0RGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IGRhdGVEaWZmZXJlbmNlID1cbiAgICAgICAgICBEYXRlLnBhcnNlKHRhc2tUb0JlQXNzaWduZWQucGxhbkVuZERhdGUpIC0gRGF0ZS5wYXJzZSh0YXNrVG9CZUFzc2lnbmVkLnBsYW5TdGFydERhdGUpO1xuICAgICAgICBjb25zdCBuZXdFbmREYXRlID0gRGF0ZS5wYXJzZShzdGFydERhdGUpICsgZGF0ZURpZmZlcmVuY2U7XG4gICAgICAgIHRhc2tUb0JlQXNzaWduZWQucGxhbkVuZERhdGUgPSByZWZpbmVUb051bWVyaWNZWU1NREQobmV3RW5kRGF0ZSk7XG4gICAgICB9XG4gICAgICB0YXNrVG9CZUFzc2lnbmVkLnBsYW5TdGFydERhdGUgPSBzdGFydERhdGU7XG4gICAgfVxuICAgIHRoaXMuYWRkVGFza1RvQXNzaWduZWRUYXNrcyh0YXNrVG9CZUFzc2lnbmVkKTtcbiAgICB0aGlzLl9yZW1vdmVUYXNrRnJvbUJhY2tsb2codGFza0lkKTtcbiAgICB0aGlzLl9jYWxsU3Vic2NyaWJlcnMoKTtcbiAgfVxuXG4gIGFkZFRhc2tUb0JhY2tsb2codGFzaykge1xuICAgIHRoaXMuX2JhY2tsb2dUYXNrcy5wdXNoKHRhc2spO1xuICB9XG5cbiAgbWFwVXNlcnNJZHModXNlcnMpIHtcbiAgICBjb25zdCBpZHMgPSB1c2Vycy5yZWR1Y2UoKG9iaiwgeyBpZCB9LCBpKSA9PiAoeyAuLi5vYmosIFtpXTogaWQgfSksIHt9KTtcbiAgICB0aGlzLl91c2Vyc0lkcyA9IHsgLi4uaWRzIH07XG4gIH1cblxuICBhZGRTdWJzY3JpYmVycyhzdWJzY3JpYmVycykge1xuICAgIHRoaXMuX3N1YnNjcmliZXJzID0gWy4uLnN1YnNjcmliZXJzXTtcbiAgfVxufVxuXG5jb25zdCBTdGF0ZSA9IG5ldyBQcm9qZWN0U3RhdGUoKTtcblxuZXhwb3J0IGRlZmF1bHQgU3RhdGU7XG4iLCJpbXBvcnQgeyBCQVNFX1VSTCB9IGZyb20gJy4uL2NvbmZpZy9jb25maWcnO1xuXG5jb25zdCBjaGVja1NlcnZlclJlc3BvbnNlID0gKHJlcykgPT4gKHJlcy5vayA/IHJlcy5qc29uKCkgOiBQcm9taXNlLnJlamVjdChyZXMpKTtcblxuY29uc3QgZ2V0RGF0YSA9IGFzeW5jIChyb3V0ZSkgPT4ge1xuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtCQVNFX1VSTH0ke3JvdXRlfWAsIHsgbWV0aG9kOiAnR0VUJyB9KTtcbiAgcmV0dXJuIGNoZWNrU2VydmVyUmVzcG9uc2UocmVzKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGdldERhdGE7XG4iLCJjbGFzcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcih7IHRlbXBsYXRlU2VsZWN0b3IsIGVsZW1lbnRTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy5fZWxlbWVudFNlbGVjdG9yID0gZWxlbWVudFNlbGVjdG9yO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIHRoaXMuX3RlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKS5jb250ZW50O1xuICAgIC8vINGB0LDQvCDRjdC70LXQvNC10L3RglxuICAgIHJldHVybiB0aGlzLl90ZW1wbGF0ZS5xdWVyeVNlbGVjdG9yKHRoaXMuX2VsZW1lbnRTZWxlY3RvcikuY2xvbmVOb2RlKHRydWUpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbXBvbmVudDtcbiIsImltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9Db21wb25lbnQnO1xuaW1wb3J0IHsgcmVmaW5lVG9TdHJpbmcgfSBmcm9tICcuLi91dGlscy9oYW5kbGUtZGF0ZXMnO1xuXG5jbGFzcyBCYWNrbG9nQ2FyZCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGNhcmREYXRhLFxuICAgIHtcbiAgICAgIHRlbXBsYXRlU2VsZWN0b3IsXG4gICAgICBlbGVtZW50U2VsZWN0b3IsXG4gICAgICB0aXRsZVNlbGVjdG9yLFxuICAgICAgZGVzY3JpcHRpb25TZWxlY3RvcixcbiAgICAgIHN0YXJ0RGF0ZVNlbGVjdG9yLFxuICAgICAgZW5kRGF0ZVNlbGVjdG9yLFxuICAgICAgZHJhZ1N0YXJ0Q2xhc3MsXG4gICAgfVxuICApIHtcbiAgICBzdXBlcih7IHRlbXBsYXRlU2VsZWN0b3IsIGVsZW1lbnRTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9jYXJkRGF0YSA9IGNhcmREYXRhO1xuICAgIHRoaXMuX2JhY2tsb2dDYXJkID0gc3VwZXIuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fZHJhZ1N0YXJ0Q2xhc3MgPSBkcmFnU3RhcnRDbGFzcztcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9iYWNrbG9nQ2FyZC5xdWVyeVNlbGVjdG9yKHRpdGxlU2VsZWN0b3IpO1xuICAgIHRoaXMuX2NhcmREZXNjcmlwdGlvbiA9IHRoaXMuX2JhY2tsb2dDYXJkLnF1ZXJ5U2VsZWN0b3IoZGVzY3JpcHRpb25TZWxlY3Rvcik7XG4gICAgdGhpcy5fY2FyZFN0YXJ0RGF0ZSA9IHRoaXMuX2JhY2tsb2dDYXJkLnF1ZXJ5U2VsZWN0b3Ioc3RhcnREYXRlU2VsZWN0b3IpO1xuICAgIHRoaXMuX2NhcmRFbmREYXRlID0gdGhpcy5fYmFja2xvZ0NhcmQucXVlcnlTZWxlY3RvcihlbmREYXRlU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZURyYWdTdGFydCA9IHRoaXMuX2hhbmRsZURyYWdTdGFydC5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX2hhbmRsZURyYWdFbmQgPSB0aGlzLl9oYW5kbGVEcmFnRW5kLmJpbmQodGhpcyk7XG4gIH1cblxuICBfaGFuZGxlRHJhZ1N0YXJ0KGV2dCkge1xuICAgIHRoaXMuX2JhY2tsb2dDYXJkLmNsYXNzTGlzdC5hZGQodGhpcy5fZHJhZ1N0YXJ0Q2xhc3MpO1xuICAgIGV2dC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIHRoaXMuX2NhcmREYXRhLmlkKTtcbiAgICBldnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG4gIH1cblxuICBfaGFuZGxlRHJhZ0VuZCgpIHtcbiAgICB0aGlzLl9iYWNrbG9nQ2FyZC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2RyYWdTdGFydENsYXNzKTtcbiAgfVxuXG4gIGNyZWF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fY2FyZERhdGEuc3ViamVjdDtcbiAgICB0aGlzLl9jYXJkRGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSB0aGlzLl9jYXJkRGF0YS5kZXNjcmlwdGlvbjtcbiAgICB0aGlzLl9jYXJkU3RhcnREYXRlLnRleHRDb250ZW50ID0gcmVmaW5lVG9TdHJpbmcodGhpcy5fY2FyZERhdGEucGxhblN0YXJ0RGF0ZSk7XG4gICAgdGhpcy5fY2FyZEVuZERhdGUudGV4dENvbnRlbnQgPSByZWZpbmVUb1N0cmluZyh0aGlzLl9jYXJkRGF0YS5wbGFuRW5kRGF0ZSk7XG4gICAgdGhpcy5fYmFja2xvZ0NhcmQuc2V0QXR0cmlidXRlKCdpZCcsIHRoaXMuX2NhcmREYXRhLmlkKTtcbiAgICByZXR1cm4gdGhpcy5fYmFja2xvZ0NhcmQ7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9iYWNrbG9nQ2FyZC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCB0aGlzLl9oYW5kbGVEcmFnU3RhcnQpO1xuICAgIHRoaXMuX2JhY2tsb2dDYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbmQnLCB0aGlzLl9oYW5kbGVEcmFnRW5kKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBCYWNrbG9nQ2FyZDtcbiIsImNsYXNzIFJlbmRlcmVyU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gICAgdGhpcy5jbGVhckl0ZW1zID0gdGhpcy5jbGVhckl0ZW1zLmJpbmQodGhpcyk7XG4gIH1cblxuICBhZGRJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGl0ZW0pO1xuICB9XG5cbiAgY2xlYXJJdGVtcygpIHtcbiAgICB0aGlzLl9jb250YWluZXIudGV4dENvbnRlbnQgPSAnJztcbiAgfVxuXG4gIGFkZFRleHRDb250ZW50KGNvbnRlbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIudGV4dENvbnRlbnQgPSBjb250ZW50O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlbmRlcmVyU2VjdGlvbjtcbiIsImltcG9ydCBDb21wb25lbnQgZnJvbSAnLi9Db21wb25lbnQnO1xuaW1wb3J0IHsgcmVmaW5lVG9TdHJpbmcgfSBmcm9tICcuLi91dGlscy9oYW5kbGUtZGF0ZXMnO1xuXG5jbGFzcyBDYWxlbmRhclRhc2sgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihcbiAgICB0YXNrLFxuICAgIHtcbiAgICAgIHRlbXBsYXRlU2VsZWN0b3IsXG4gICAgICBlbGVtZW50U2VsZWN0b3IsXG4gICAgICB0aXRsZVNlbGVjdG9yLFxuICAgICAgc3VidGl0bGVTZWxlY3RvcixcbiAgICAgIGRlc2NyaXB0aW9uU2VsZWN0b3IsXG4gICAgICBzdGFydERhdGVTZWxlY3RvcixcbiAgICAgIGVuZERhdGVTZWxlY3RvcixcbiAgICB9XG4gICkge1xuICAgIHN1cGVyKHsgdGVtcGxhdGVTZWxlY3RvciwgZWxlbWVudFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX3Rhc2sgPSB0YXNrO1xuICAgIHRoaXMuX3Rhc2tFbGVtZW50ID0gc3VwZXIuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fdGl0bGVFTGVtZW50ID0gdGhpcy5fdGFza0VsZW1lbnQucXVlcnlTZWxlY3Rvcih0aXRsZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9zdWJ0aXRsZUVMZW1lbnQgPSB0aGlzLl90YXNrRWxlbWVudC5xdWVyeVNlbGVjdG9yKHN1YnRpdGxlU2VsZWN0b3IpO1xuICAgIHRoaXMuX2Rlc2NyaXB0aW9uRWxlbWVudCA9IHRoaXMuX3Rhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoZGVzY3JpcHRpb25TZWxlY3Rvcik7XG4gICAgdGhpcy5fc3RhcnREYXRlRWxlbWVudCA9IHRoaXMuX3Rhc2tFbGVtZW50LnF1ZXJ5U2VsZWN0b3Ioc3RhcnREYXRlU2VsZWN0b3IpO1xuICAgIHRoaXMuX2VuZERhdGVFbGVtZW50ID0gdGhpcy5fdGFza0VsZW1lbnQucXVlcnlTZWxlY3RvcihlbmREYXRlU2VsZWN0b3IpO1xuICB9XG5cbiAgY3JlYXRlVGFzaygpIHtcbiAgICB0aGlzLl90aXRsZUVMZW1lbnQudGV4dENvbnRlbnQgPSB0aGlzLl90YXNrLnN1YmplY3Q7XG4gICAgdGhpcy5fc3VidGl0bGVFTGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5fdGFzay5zdWJqZWN0O1xuICAgIHRoaXMuX2Rlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IHRoaXMuX3Rhc2suZGVzY3JpcHRpb247XG4gICAgdGhpcy5fc3RhcnREYXRlRWxlbWVudC50ZXh0Q29udGVudCA9IHJlZmluZVRvU3RyaW5nKHRoaXMuX3Rhc2sucGxhblN0YXJ0RGF0ZSk7XG4gICAgdGhpcy5fZW5kRGF0ZUVsZW1lbnQudGV4dENvbnRlbnQgPSByZWZpbmVUb1N0cmluZyh0aGlzLl90YXNrLnBsYW5FbmREYXRlKTtcblxuICAgIHJldHVybiB0aGlzLl90YXNrRWxlbWVudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYWxlbmRhclRhc2s7XG4iLCJpbXBvcnQgQ29tcG9uZW50IGZyb20gJy4vQ29tcG9uZW50JztcbmltcG9ydCBDYWxlbmRhclRhc2sgZnJvbSAnLi9DYWxlbmRhclRhc2snO1xuaW1wb3J0IHsgY2FsZW5kYXJUYXNrU2VsZWN0b3JzIH0gZnJvbSAnLi4vY29uZmlnL2NvbnN0YW50cyc7XG5cbmNsYXNzIENhbGVuZGFyQ2VsbCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKGNlbGwsIHsgdGVtcGxhdGVTZWxlY3RvciwgZWxlbWVudFNlbGVjdG9yIH0pIHtcbiAgICBzdXBlcih7IHRlbXBsYXRlU2VsZWN0b3IsIGVsZW1lbnRTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9jZWxsID0gY2VsbDtcbiAgICB0aGlzLl9jZWxsRWxlbWVudCA9IHN1cGVyLl9nZXRUZW1wbGF0ZSgpO1xuICB9XG5cbiAgX2FkZEl0ZW0oaXRlbSkge1xuICAgIHRoaXMuX2NlbGxFbGVtZW50LmFwcGVuZChpdGVtKTtcbiAgfVxuXG4gIGNyZWF0ZUNlbGwoKSB7XG4gICAgdGhpcy5fY2VsbEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWV4ZWN1dG9yJywgdGhpcy5fY2VsbC5leGVjdXRvcik7XG4gICAgdGhpcy5fY2VsbEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLWRhdGUnLCB0aGlzLl9jZWxsLmRhdGUpO1xuXG4gICAgcmV0dXJuIHRoaXMuX2NlbGxFbGVtZW50O1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5fY2VsbC50YXNrcy5mb3JFYWNoKCh0YXNrKSA9PiB7XG4gICAgICBjb25zdCBuZXdUYXNrID0gbmV3IENhbGVuZGFyVGFzayh0YXNrLCBjYWxlbmRhclRhc2tTZWxlY3RvcnMpO1xuICAgICAgdGhpcy5fYWRkSXRlbShuZXdUYXNrLmNyZWF0ZVRhc2soKSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FsZW5kYXJDZWxsO1xuIiwiaW1wb3J0IFByb2plY3RTdGF0ZSBmcm9tICcuLi9zdGF0ZS9Qcm9qZWN0U3RhdGUnO1xuaW1wb3J0IENvbXBvbmVudCBmcm9tICcuL0NvbXBvbmVudCc7XG5pbXBvcnQgQ2FsZW5kYXJDZWxsIGZyb20gJy4vQ2FsZW5kYXJDZWxsJztcbmltcG9ydCB7IHJlZmluZVRvTnVtZXJpY0RETU0gfSBmcm9tICcuLi91dGlscy9oYW5kbGUtZGF0ZXMnO1xuaW1wb3J0IHsgY2FsZW5kYXJDZWxsU2VsZWN0b3JzIH0gZnJvbSAnLi4vY29uZmlnL2NvbnN0YW50cyc7XG5cbmNsYXNzIENhbGVuZGFyQ29sdW1uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoY29sdW1uLCB7IHRlbXBsYXRlU2VsZWN0b3IsIGVsZW1lbnRTZWxlY3RvciwgZGF0ZUNlbGxTZWxlY3RvciwgY3VycmVudERheUNsYXNzIH0pIHtcbiAgICBzdXBlcih7IHRlbXBsYXRlU2VsZWN0b3IsIGVsZW1lbnRTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9jb2x1bW4gPSBjb2x1bW47XG4gICAgdGhpcy5fY2FsZW5kYXJDb2x1bW4gPSBzdXBlci5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9kYXRlRWxlbWVudCA9IHRoaXMuX2NhbGVuZGFyQ29sdW1uLnF1ZXJ5U2VsZWN0b3IoZGF0ZUNlbGxTZWxlY3Rvcik7XG4gICAgdGhpcy5fY3VycmVudERheUNsYXNzID0gY3VycmVudERheUNsYXNzO1xuICAgIHRoaXMuX2RheVRhc2tzU2NoZW1hID0ge307XG4gIH1cblxuICBfZ2V0VGFza3NGb3JDdXJyZW50RGF5KHRhc2tzKSB7XG4gICAgY29uc3QgcGFyc2VkQ29sdW1uRGF0ZSA9IERhdGUucGFyc2UodGhpcy5fY29sdW1uLmRhdGUpO1xuICAgIHJldHVybiB0YXNrcy5maWx0ZXIoXG4gICAgICAodGFzaykgPT5cbiAgICAgICAgRGF0ZS5wYXJzZSh0YXNrLnBsYW5TdGFydERhdGUpIDw9IHBhcnNlZENvbHVtbkRhdGUgJiZcbiAgICAgICAgcGFyc2VkQ29sdW1uRGF0ZSA8PSBEYXRlLnBhcnNlKHRhc2sucGxhbkVuZERhdGUpXG4gICAgKTtcbiAgfVxuXG4gIF9nZXREYXlUYXNrc1NjaGVtYSgpIHtcbiAgICB0aGlzLl90YXNrc0ZvckN1cnJlbnREYXkgPSB0aGlzLl9nZXRUYXNrc0ZvckN1cnJlbnREYXkoUHJvamVjdFN0YXRlLmFzc2lnbmVkVGFza3MpO1xuXG4gICAgaWYgKHRoaXMuX3Rhc2tzRm9yQ3VycmVudERheSkge1xuICAgICAgdGhpcy5fdGFza3NGb3JDdXJyZW50RGF5LmZvckVhY2goKHRhc2spID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLl9kYXlUYXNrc1NjaGVtYVt0YXNrLmV4ZWN1dG9yXSkge1xuICAgICAgICAgIHRoaXMuX2RheVRhc2tzU2NoZW1hW3Rhc2suZXhlY3V0b3JdID0gW3Rhc2tdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuX2RheVRhc2tzU2NoZW1hW3Rhc2suZXhlY3V0b3JdID0gWy4uLnRoaXMuX2RheVRhc2tzU2NoZW1hW3Rhc2suZXhlY3V0b3JdLCB0YXNrXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgY3JlYXRlQ2VsbHMoKSB7XG4gICAgdGhpcy5fZ2V0RGF5VGFza3NTY2hlbWEoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IFByb2plY3RTdGF0ZS51c2Vycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgdXNlcklkID0gUHJvamVjdFN0YXRlLnVzZXJzSWRzW2ldO1xuICAgICAgY29uc3QgY29sdW1uQ2VsbCA9IG5ldyBDYWxlbmRhckNlbGwoXG4gICAgICAgIHsgZXhlY3V0b3I6IHVzZXJJZCwgZGF0ZTogdGhpcy5fY29sdW1uLmRhdGUsIHRhc2tzOiB0aGlzLl9kYXlUYXNrc1NjaGVtYVt1c2VySWRdID8/IFtdIH0sXG4gICAgICAgIGNhbGVuZGFyQ2VsbFNlbGVjdG9yc1xuICAgICAgKTtcbiAgICAgIGNvbnN0IGNlbGxFbGVtZW50ID0gY29sdW1uQ2VsbC5jcmVhdGVDZWxsKCk7XG4gICAgICBjb2x1bW5DZWxsLnJlbmRlckl0ZW1zKCk7XG4gICAgICB0aGlzLmFkZEl0ZW0oY2VsbEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIGNyZWF0ZUNhbGVuZGFyQ29sdW1uKCkge1xuICAgIGNvbnN0IGNvbHVtbkRhdGUgPSBuZXcgRGF0ZSh0aGlzLl9jb2x1bW4uZGF0ZSk7XG4gICAgdGhpcy5fZGF0ZUVsZW1lbnQudGV4dENvbnRlbnQgPSByZWZpbmVUb051bWVyaWNERE1NKGNvbHVtbkRhdGUpO1xuICAgIGlmICh0aGlzLl9jb2x1bW4uZGF0ZSA9PT0gUHJvamVjdFN0YXRlLmN1cnJlbnREYXRlTnVtZXJpYykge1xuICAgICAgdGhpcy5fY2FsZW5kYXJDb2x1bW4uY2xhc3NMaXN0LmFkZCh0aGlzLl9jdXJyZW50RGF5Q2xhc3MpO1xuICAgIH1cbiAgICB0aGlzLmNyZWF0ZUNlbGxzKCk7XG4gICAgcmV0dXJuIHRoaXMuX2NhbGVuZGFyQ29sdW1uO1xuICB9XG5cbiAgYWRkSXRlbShpdGVtKSB7XG4gICAgdGhpcy5fY2FsZW5kYXJDb2x1bW4uYXBwZW5kKGl0ZW0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhbGVuZGFyQ29sdW1uO1xuIiwiaW1wb3J0IFByb2plY3RTdGF0ZSBmcm9tICcuLi9zdGF0ZS9Qcm9qZWN0U3RhdGUnO1xuaW1wb3J0IENvbXBvbmVudCBmcm9tICcuL0NvbXBvbmVudCc7XG5pbXBvcnQgeyBBU1NJR05fQllfVVNFUiB9IGZyb20gJy4uL3N0YXRlL3R5cGVzJztcblxuY2xhc3MgVXNlckNhcmQgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3RvcihjYXJkRGF0YSwgeyB0ZW1wbGF0ZVNlbGVjdG9yLCBlbGVtZW50U2VsZWN0b3IsIHVzZXJOYW1lU2VsZWN0b3IsIGRyYWdPdmVyQ2xhc3MgfSkge1xuICAgIHN1cGVyKHsgdGVtcGxhdGVTZWxlY3RvciwgZWxlbWVudFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX2NhcmREYXRhID0gY2FyZERhdGE7XG4gICAgdGhpcy5fdXNlckNhcmQgPSBzdXBlci5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9mdWxsTmFtZUVsZW1lbnQgPSB0aGlzLl91c2VyQ2FyZC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX2RyYWdPdmVyQ2xhc3MgPSBkcmFnT3ZlckNsYXNzO1xuICAgIHRoaXMuX2hhbmRsZURyYWdPdmVyID0gdGhpcy5faGFuZGxlRHJhZ092ZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVEcmFnTGVhdmUgPSB0aGlzLl9oYW5kbGVEcmFnTGVhdmUuYmluZCh0aGlzKTtcbiAgICB0aGlzLl9oYW5kbGVEcm9wID0gdGhpcy5faGFuZGxlRHJvcC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX2hhbmRsZURyYWdPdmVyKGV2dCkge1xuICAgIGlmIChldnQuZGF0YVRyYW5zZmVyICYmIGV2dC5kYXRhVHJhbnNmZXIudHlwZXNbMF0gPT09ICd0ZXh0L3BsYWluJykge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl91c2VyQ2FyZC5jbGFzc0xpc3QuYWRkKHRoaXMuX2RyYWdPdmVyQ2xhc3MpO1xuICAgIH1cbiAgfVxuXG4gIF9oYW5kbGVEcmFnTGVhdmUoKSB7XG4gICAgdGhpcy5fdXNlckNhcmQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9kcmFnT3ZlckNsYXNzKTtcbiAgfVxuXG4gIF9oYW5kbGVEcm9wKGV2dCkge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHRhc2tJZCA9IGV2dC5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndGV4dC9wbGFpbicpO1xuICAgIFByb2plY3RTdGF0ZS5hc3NpZ25UYXNrKHsgdHlwZTogQVNTSUdOX0JZX1VTRVIsIHRhc2tJZCwgZXhlY3V0b3JJZDogdGhpcy5fY2FyZERhdGEuaWQgfSk7XG4gICAgdGhpcy5faGFuZGxlRHJhZ0xlYXZlKCk7XG4gIH1cblxuICBjcmVhdGVDYXJkKCkge1xuICAgIHRoaXMuX2Z1bGxOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IGAke3RoaXMuX2NhcmREYXRhLmZpcnN0TmFtZX0gJHt0aGlzLl9jYXJkRGF0YS5zdXJuYW1lfWA7XG4gICAgcmV0dXJuIHRoaXMuX3VzZXJDYXJkO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fdXNlckNhcmQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCB0aGlzLl9oYW5kbGVEcmFnT3Zlcik7XG4gICAgdGhpcy5fdXNlckNhcmQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgdGhpcy5faGFuZGxlRHJhZ0xlYXZlKTtcbiAgICB0aGlzLl91c2VyQ2FyZC5hZGRFdmVudExpc3RlbmVyKCdkcm9wJywgdGhpcy5faGFuZGxlRHJvcCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlckNhcmQ7XG4iLCJjb25zdCByZW1vdmVBbmltYXRpb24gPSAoZWxlbWVudCkgPT4ge1xuICAvLyDRg9C00LDQu9C10L3QuNC1INC00LvRjyDQstC+0YHRgdGC0LDQvdC+0LLQu9C10L3QuNGPINGD0YDQvtCy0L3QtdC5INC90LDQu9C+0LbQtdC90LjRjyDQuCDQtNC+0YHRgtGD0L/QvdC+0YHRgtC4INGB0LLQvtC50YHRgtCy0LAgdHJhbnNmb3JtXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICB9LCAxMTAwKTtcbn07XG5cbmV4cG9ydCBjb25zdCBhcHBseVNsaWRlSW5Cb3R0b21VcEFuaW0gPSAoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXG4gICAgJ3N0eWxlJyxcbiAgICBgYW5pbWF0aW9uOiBzbGlkZS1pbi1ib3R0b20tdXAgMC41cyBlYXNlLW91dCAwLiR7aW5kZXh9cyBmb3J3YXJkczsgb3BhY2l0eTogMDtgXG4gICk7XG4gIHJlbW92ZUFuaW1hdGlvbihlbGVtZW50KTtcbn07XG5cbmV4cG9ydCBjb25zdCBhcHBseVNsaWRlSW5SaWdodExlZnRBbmltID0gKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gIGVsZW1lbnQuc2V0QXR0cmlidXRlKFxuICAgICdzdHlsZScsXG4gICAgYGFuaW1hdGlvbjogc2xpZGUtaW4tcmlnaHQtbGVmdCAwLjVzIGVhc2Utb3V0IDAuJHtpbmRleH1zIGZvcndhcmRzOyBvcGFjaXR5OiAwO2BcbiAgKTtcbiAgcmVtb3ZlQW5pbWF0aW9uKGVsZW1lbnQpO1xufTtcbiIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xuaW1wb3J0IFByb2plY3RTdGF0ZSBmcm9tICcuL3N0YXRlL1Byb2plY3RTdGF0ZSc7XG5pbXBvcnQge1xuICBiYWNrbG9nQ2FyZFNlbGVjdG9ycyxcbiAgY2FsZW5kYXJDb2x1bW5TZWxlY3RvcnMsXG4gIGZ1bGxEYXlJbk1pbGxpc2Vjb25kcyxcbiAgcG9wdXBTZWxlY3RvcnMsXG4gIHByZWxvYWRlclN0YXRlU2VsZWN0b3JzLFxuICB0b2dnbGVUaGVtZVNldHRpbmdzLFxuICB1c2Vyc0NhcmRTZWxlY3RvcnMsXG59IGZyb20gJy4vY29uZmlnL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBUQVNLU19ST1VURSwgVVNFUlNfUk9VVEUgfSBmcm9tICcuL2NvbmZpZy9jb25maWcnO1xuaW1wb3J0IHsgcmVmaW5lVG9OdW1lcmljWVlNTUREIH0gZnJvbSAnLi91dGlscy9oYW5kbGUtZGF0ZXMnO1xuaW1wb3J0IHsgaW5pdFN3aXRjaEJldHdlZW5XZWVrcywgaW5pdFRvZ2dsZUNvbG9yVGhlbWUgfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBnZXREYXRhIGZyb20gJy4vYXBpL21haW4tYXBpJztcbmltcG9ydCB7XG4gIEJhY2tsb2dDYXJkLFxuICBDYWxlbmRhcixcbiAgQ2FsZW5kYXJDb2x1bW4sXG4gIFBvcHVwRXJyb3IsXG4gIFJlbmRlcmVyU2VjdGlvbixcbiAgVXNlckNhcmQsXG59IGZyb20gJy4vY29tcG9uZW50cyc7XG5pbXBvcnQgaW5pdFNlYXJjaCBmcm9tICcuL3V0aWxzL3NlYXJjaCc7XG5pbXBvcnQgeyBhcHBseVNsaWRlSW5Cb3R0b21VcEFuaW0sIGFwcGx5U2xpZGVJblJpZ2h0TGVmdEFuaW0gfSBmcm9tICcuL3V0aWxzL2FwcGx5LXN0eWxlLWFuaW1hdGlvbic7XG5cbmNvbnN0IHBhZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByZWxvYWRlclN0YXRlU2VsZWN0b3JzLnBhZ2VTZWxlY3Rvcik7XG5jb25zdCBwcmVsb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByZWxvYWRlclN0YXRlU2VsZWN0b3JzLnByZWxvYWRlclNlbGVjdG9yKTtcbmNvbnN0IHBvcHVwRXJyb3IgPSBuZXcgUG9wdXBFcnJvcihwb3B1cFNlbGVjdG9ycyk7XG4vLyDQutC+0L3RgtC10LnQvdC10YDRiy3RgNC10L3QtNC10YDQtdGA0YtcbmNvbnN0IGJhY2tsb2dMaXN0ID0gbmV3IFJlbmRlcmVyU2VjdGlvbihiYWNrbG9nQ2FyZFNlbGVjdG9ycy5wYXJlbnRTZWxlY3Rvcik7XG5jb25zdCB1c2Vyc0xpc3QgPSBuZXcgUmVuZGVyZXJTZWN0aW9uKHVzZXJzQ2FyZFNlbGVjdG9ycy5wYXJlbnRTZWxlY3Rvcik7XG5jb25zdCBjYWxlbmRhckNvbnRhaW5lciA9IG5ldyBDYWxlbmRhcihjYWxlbmRhckNvbHVtblNlbGVjdG9ycy5wYXJlbnRTZWxlY3Rvcik7XG5jYWxlbmRhckNvbnRhaW5lci5zZXRFdmVudExpc3RlbmVycygpO1xuXG5jb25zdCByZW5kZXJDb2x1bW5zID0gKGlzQW5pbWF0ZWQpID0+IHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBQcm9qZWN0U3RhdGUuY2FsZW5kYXJMZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGNvbHVtbkRhdGUgPSBQcm9qZWN0U3RhdGUuc3RhcnREYXkgKyBmdWxsRGF5SW5NaWxsaXNlY29uZHMgKiBpO1xuICAgIGNvbnN0IGRhdGVTdHJpbmcgPSByZWZpbmVUb051bWVyaWNZWU1NREQoY29sdW1uRGF0ZSk7XG5cbiAgICBjb25zdCBjYWxlbmRhckNvbHVtbiA9IG5ldyBDYWxlbmRhckNvbHVtbih7IGRhdGU6IGRhdGVTdHJpbmcgfSwgY2FsZW5kYXJDb2x1bW5TZWxlY3RvcnMpO1xuICAgIGNvbnN0IGNvbHVtbkVsZW1lbnQgPSBjYWxlbmRhckNvbHVtbi5jcmVhdGVDYWxlbmRhckNvbHVtbigpO1xuICAgIGlmIChpc0FuaW1hdGVkKSB7XG4gICAgICBhcHBseVNsaWRlSW5SaWdodExlZnRBbmltKGNvbHVtbkVsZW1lbnQsIGkpO1xuICAgIH1cbiAgICBjYWxlbmRhckNvbnRhaW5lci5hZGRJdGVtKGNvbHVtbkVsZW1lbnQpO1xuICB9XG59O1xuXG5jb25zdCBjcmVhdGVCYWNrbG9nQ2FyZCA9ICh0YXNrKSA9PiB7XG4gIGNvbnN0IGJhY2tsb2dDYXJkID0gbmV3IEJhY2tsb2dDYXJkKHRhc2ssIGJhY2tsb2dDYXJkU2VsZWN0b3JzKTtcbiAgY29uc3QgbmV3QmFja2xvZ0NhcmQgPSBiYWNrbG9nQ2FyZC5jcmVhdGVDYXJkKCk7XG4gIGJhY2tsb2dDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIHJldHVybiBuZXdCYWNrbG9nQ2FyZDtcbn07XG5cbmNvbnN0IHJlbmRlckJhY2tsb2dUYXNrcyA9ICgpID0+IHtcbiAgUHJvamVjdFN0YXRlLmJhY2tsb2dUYXNrcy5mb3JFYWNoKCh0YXNrLCBpKSA9PiB7XG4gICAgY29uc3QgYmFja2xvZ0NhcmQgPSBjcmVhdGVCYWNrbG9nQ2FyZCh0YXNrKTtcbiAgICBhcHBseVNsaWRlSW5Cb3R0b21VcEFuaW0oYmFja2xvZ0NhcmQsIGkpO1xuICAgIGJhY2tsb2dMaXN0LmFkZEl0ZW0oYmFja2xvZ0NhcmQpO1xuICB9KTtcbn07XG5cbmNvbnN0IHJlbmRlclVzZXJzID0gKHVzZXJzLCBpc0FuaW1hdGVkKSA9PlxuICB1c2Vycy5mb3JFYWNoKCh1c2VyLCBpKSA9PiB7XG4gICAgY29uc3QgdXNlckNhcmQgPSBuZXcgVXNlckNhcmQodXNlciwgdXNlcnNDYXJkU2VsZWN0b3JzKTtcbiAgICBjb25zdCBuZXdVc2VyQ2FyZCA9IHVzZXJDYXJkLmNyZWF0ZUNhcmQoKTtcbiAgICBpZiAoaXNBbmltYXRlZCkge1xuICAgICAgYXBwbHlTbGlkZUluQm90dG9tVXBBbmltKG5ld1VzZXJDYXJkLCBpKTtcbiAgICB9XG4gICAgdXNlckNhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB1c2Vyc0xpc3QuYWRkSXRlbShuZXdVc2VyQ2FyZCk7XG4gIH0pO1xuXG4vLyDQv9C10YDQstCw0Y8g0L7RgtGA0LjRgdC+0LLQutCwINC4INC+0LHRgNCw0LHQvtGC0LrQsCDQtNCw0L3QvdGL0YUg0YEg0YHQtdGA0LLQtdGA0LBcbmNvbnN0IGdldEluaXRpYWxEYXRhID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgZ2V0RGF0YShVU0VSU19ST1VURSk7XG4gICAgY29uc3QgdGFza3MgPSBhd2FpdCBnZXREYXRhKFRBU0tTX1JPVVRFKTtcblxuICAgIC8vINGB0L7RgNGC0LjRgNC+0LLQutCwINC30LDQtNCw0L3QuNC5INC4INC00L7QsdCw0LLQu9C10L3QuNC1INC40YUg0LIg0YHRgtC10LnRglxuICAgIHRhc2tzLmZvckVhY2goKHRhc2spID0+IHtcbiAgICAgIGlmICh0YXNrLmV4ZWN1dG9yKSBQcm9qZWN0U3RhdGUuYWRkVGFza1RvQXNzaWduZWRUYXNrcyh0YXNrKTtcbiAgICAgIGVsc2UgUHJvamVjdFN0YXRlLmFkZFRhc2tUb0JhY2tsb2codGFzayk7XG4gICAgfSk7XG4gICAgLy8g0YTQvtGA0LzQuNGA0L7QstCw0L3QuNC1INC+0LHRitC10LrRgtCwINGBIGlkINC40YHQv9C+0LvQvdC40YLQtdC70LXQuVxuICAgIFByb2plY3RTdGF0ZS51c2VycyA9IHVzZXJzO1xuICAgIFByb2plY3RTdGF0ZS5tYXBVc2Vyc0lkcyh1c2Vycyk7XG4gICAgLy8g0YDQtdC90LTQtdGA0LjQvdCzXG4gICAgcmVuZGVyVXNlcnModXNlcnMsIHRydWUpO1xuICAgIHJlbmRlckNvbHVtbnModHJ1ZSk7XG4gICAgcmVuZGVyQmFja2xvZ1Rhc2tzKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHBvcHVwRXJyb3Iub3BlbigpO1xuICB9XG4gIHBhZ2UuY2xhc3NMaXN0LnJlbW92ZShwcmVsb2FkZXJTdGF0ZVNlbGVjdG9ycy5wYWdlSGlkZGVuQ2xhc3MpO1xuICBwcmVsb2FkZXIuY2xhc3NMaXN0LnJlbW92ZShwcmVsb2FkZXJTdGF0ZVNlbGVjdG9ycy5wcmVsb2FkZXJWaXNpYmxlQ2xhc3MpO1xufTtcblxuZ2V0SW5pdGlhbERhdGEoKTtcblxuLy8g0L/QvtC40YHQulxuaW5pdFNlYXJjaChiYWNrbG9nTGlzdCwgY3JlYXRlQmFja2xvZ0NhcmQsIHJlbmRlckJhY2tsb2dUYXNrcyk7XG4vLyDQv9C10YDQtdC70LjRgdGC0YvQstCw0L3QuNC1INC60LDQu9C10L3QtNCw0YDRj1xuaW5pdFN3aXRjaEJldHdlZW5XZWVrcyhjYWxlbmRhckNvbnRhaW5lci5jbGVhckl0ZW1zLCByZW5kZXJDb2x1bW5zKTtcbi8vINC/0LXRgNC10LrQu9GO0YfQtdC90LjQtSDRgtC10LzRi1xuaW5pdFRvZ2dsZUNvbG9yVGhlbWUodG9nZ2xlVGhlbWVTZXR0aW5ncyk7XG5cbi8vINC00L7QsdCw0LLQu9C10L3QuNC1INC90LDQsdC70Y7QtNCw0YLQtdC70LXQuSDQsiDRgdGC0LXQudGCINC00LvRjyDRgNC10YDQtdC90LTQtdGA0LBcblByb2plY3RTdGF0ZS5hZGRTdWJzY3JpYmVycyhbXG4gIGNhbGVuZGFyQ29udGFpbmVyLmNsZWFySXRlbXMsXG4gIGJhY2tsb2dMaXN0LmNsZWFySXRlbXMsXG4gIHJlbmRlckNvbHVtbnMsXG4gIHJlbmRlckJhY2tsb2dUYXNrcyxcbl0pO1xuIiwiaW1wb3J0IHsgdGltZXJEZWxheSB9IGZyb20gJy4uL2NvbmZpZy9jb25zdGFudHMnO1xuXG5jbGFzcyBQb3B1cEVycm9yIHtcbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JzKSB7XG4gICAgdGhpcy5fc2VsZWN0b3JzID0gc2VsZWN0b3JzO1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcnMucG9wdXBFcnJvcik7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQodGhpcy5fc2VsZWN0b3JzLnBvcHVwT3BlbkNsYXNzKTtcbiAgICB0aGlzLl9jbG9zZSgpO1xuICB9XG5cbiAgX2Nsb3NlKCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9zZWxlY3RvcnMucG9wdXBPcGVuQ2xhc3MpO1xuICAgIH0sIHRpbWVyRGVsYXkpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwRXJyb3I7XG4iLCJpbXBvcnQgUHJvamVjdFN0YXRlIGZyb20gJy4uL3N0YXRlL1Byb2plY3RTdGF0ZSc7XG5pbXBvcnQgUmVuZGVyZXJTZWN0aW9uIGZyb20gJy4vUmVuZGVyZXJTZWN0aW9uJztcbmltcG9ydCB7IEFTU0lHTl9CWV9EQVRFIH0gZnJvbSAnLi4vc3RhdGUvdHlwZXMnO1xuaW1wb3J0IHsgY2FsZW5kYXJDZWxsU2VsZWN0b3JzLCBjYWxlbmRhclRhc2tTZWxlY3RvcnMgfSBmcm9tICcuLi9jb25maWcvY29uc3RhbnRzJztcblxuY2xhc3MgQ2FsZW5kYXIgZXh0ZW5kcyBSZW5kZXJlclNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcihjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHN1cGVyKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVEcmFnT3ZlciA9IHRoaXMuX2hhbmRsZURyYWdPdmVyLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlRHJhZ0xlYXZlID0gdGhpcy5faGFuZGxlRHJhZ0xlYXZlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5faGFuZGxlRHJvcCA9IHRoaXMuX2hhbmRsZURyb3AuYmluZCh0aGlzKTtcbiAgfVxuXG4gIF9oYW5kbGVEcmFnT3ZlcihldnQpIHtcbiAgICBjb25zdCB7IHRhcmdldCB9ID0gZXZ0O1xuICAgIGlmIChcbiAgICAgIGV2dC5kYXRhVHJhbnNmZXIgJiZcbiAgICAgIGV2dC5kYXRhVHJhbnNmZXIudHlwZXNbMF0gPT09ICd0ZXh0L3BsYWluJyAmJlxuICAgICAgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoY2FsZW5kYXJDZWxsU2VsZWN0b3JzLmVsZW1lbnRDbGFzcykgfHxcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhjYWxlbmRhclRhc2tTZWxlY3RvcnMuZWxlbWVudENsYXNzKSlcbiAgICApIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fZHJvcHBhYmxlQ2VsbCA9IHRhcmdldC5jbG9zZXN0KGNhbGVuZGFyQ2VsbFNlbGVjdG9ycy5lbGVtZW50U2VsZWN0b3IpO1xuICAgICAgdGhpcy5fZHJvcHBhYmxlQ2VsbC5jbGFzc0xpc3QuYWRkKGNhbGVuZGFyQ2VsbFNlbGVjdG9ycy5kcmFnT3ZlckNsYXNzKTtcbiAgICB9XG4gIH1cblxuICBfaGFuZGxlRHJhZ0xlYXZlKCkge1xuICAgIHRoaXMuX2Ryb3BwYWJsZUNlbGwuY2xhc3NMaXN0LnJlbW92ZShjYWxlbmRhckNlbGxTZWxlY3RvcnMuZHJhZ092ZXJDbGFzcyk7XG4gIH1cblxuICBfaGFuZGxlRHJvcChldnQpIHtcbiAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICBjb25zdCB0YXNrSWQgPSBldnQuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3RleHQvcGxhaW4nKTtcbiAgICBQcm9qZWN0U3RhdGUuYXNzaWduVGFzayh7XG4gICAgICB0eXBlOiBBU1NJR05fQllfREFURSxcbiAgICAgIHRhc2tJZCxcbiAgICAgIGV4ZWN1dG9ySWQ6IHRoaXMuX2Ryb3BwYWJsZUNlbGwuZGF0YXNldC5leGVjdXRvcixcbiAgICAgIHN0YXJ0RGF0ZTogdGhpcy5fZHJvcHBhYmxlQ2VsbC5kYXRhc2V0LmRhdGUsXG4gICAgfSk7XG4gICAgdGhpcy5faGFuZGxlRHJhZ0xlYXZlKCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCB0aGlzLl9oYW5kbGVEcmFnT3Zlcik7XG4gICAgdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIHRoaXMuX2hhbmRsZURyYWdMZWF2ZSk7XG4gICAgdGhpcy5fY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCB0aGlzLl9oYW5kbGVEcm9wKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYWxlbmRhcjtcbiIsImV4cG9ydCBjb25zdCBCQVNFX1VSTCA9XG4gICdodHRwczovL3ZhcmFua2luX2Rldi5lbG1hMzY1LnJ1L2FwaS9leHRlbnNpb25zLzJhMzg3NjBlLTA4M2EtNGRkMC1hZWJjLTc4YjU3MGJmZDNjNy9zY3JpcHQnO1xuZXhwb3J0IGNvbnN0IFVTRVJTX1JPVVRFID0gJy91c2Vycyc7XG5leHBvcnQgY29uc3QgVEFTS1NfUk9VVEUgPSAnL3Rhc2tzJztcbiIsImltcG9ydCB7IHNlYXJjaEZvcm1TZWxlY3RvcnMsIHRpbWVyRGVsYXkgfSBmcm9tICcuLi9jb25maWcvY29uc3RhbnRzJztcbmltcG9ydCBQcm9qZWN0U3RhdGUgZnJvbSAnLi4vc3RhdGUvUHJvamVjdFN0YXRlJztcblxuY29uc3QgaW5pdFNlYXJjaCA9IChjb250YWluZXIsIGNyZWF0ZUNhcmRDYWxsYmFjaywgcmVuZGVyQ2FsbGJhY2spID0+IHtcbiAgY29uc3Qgc2VhcmNoRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VhcmNoRm9ybVNlbGVjdG9ycy5zZWFyY2hGb3JtKTtcbiAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzZWFyY2hGb3JtLnF1ZXJ5U2VsZWN0b3Ioc2VhcmNoRm9ybVNlbGVjdG9ycy5zZWFyY2hJbnB1dCk7XG4gIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IHNlYXJjaEZvcm0ucXVlcnlTZWxlY3RvcihzZWFyY2hGb3JtU2VsZWN0b3JzLnN1Ym1pdEJ1dHRvbik7XG5cbiAgY29uc3QgaGFuZGxlU2VhcmNoID0gKGV2dCkgPT4ge1xuICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IGtleXdvcmQgPSBzZWFyY2hJbnB1dC52YWx1ZTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmIChrZXl3b3JkLmxlbmd0aCkge1xuICAgICAgcmVzdWx0ID0gUHJvamVjdFN0YXRlLmJhY2tsb2dUYXNrcy5maWx0ZXIoKHRhc2spID0+XG4gICAgICAgIHRhc2suc3ViamVjdC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGtleXdvcmQudG9Mb3dlckNhc2UoKSlcbiAgICAgICk7XG4gICAgICBjb250YWluZXIuY2xlYXJJdGVtcygpO1xuXG4gICAgICBpZiAocmVzdWx0Lmxlbmd0aCkge1xuICAgICAgICByZXN1bHQuZm9yRWFjaCgodGFzaykgPT4ge1xuICAgICAgICAgIGNvbnN0IGJhY2tsb2dDYXJkID0gY3JlYXRlQ2FyZENhbGxiYWNrKHRhc2spO1xuICAgICAgICAgIGNvbnRhaW5lci5hZGRJdGVtKGJhY2tsb2dDYXJkKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXIuYWRkVGV4dENvbnRlbnQoJ9Cd0LjRh9C10LPQviDQvdC1INC90LDRiNC70L7RgdGMJyk7XG4gICAgICAgIHN1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIGNvbnRhaW5lci5jbGVhckl0ZW1zKCk7XG4gICAgICAgICAgcmVuZGVyQ2FsbGJhY2soKTtcbiAgICAgICAgICBzdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfSwgdGltZXJEZWxheSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHNlYXJjaEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgaGFuZGxlU2VhcmNoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRTZWFyY2g7XG4iLCJpbXBvcnQgUHJvamVjdFN0YXRlIGZyb20gJy4uL3N0YXRlL1Byb2plY3RTdGF0ZSc7XG5pbXBvcnQgeyBmdWxsRGF5SW5NaWxsaXNlY29uZHMsIHdlZWtCdXR0b25zU2VsZWN0b3JzIH0gZnJvbSAnLi4vY29uZmlnL2NvbnN0YW50cyc7XG5cbmNvbnN0IGluaXRTd2l0Y2hCZXR3ZWVuV2Vla3MgPSAoY2xlYXJDb250YWluZXJDYWxsYmFjaywgcmVuZGVyQ2FsbGJhY2spID0+IHtcbiAgY29uc3Qgc2hvd05leHRXZWVrID0gKCkgPT4ge1xuICAgIGNsZWFyQ29udGFpbmVyQ2FsbGJhY2soKTtcbiAgICBQcm9qZWN0U3RhdGUuc3RhcnREYXkgKz0gZnVsbERheUluTWlsbGlzZWNvbmRzICogNztcbiAgICByZW5kZXJDYWxsYmFjaygpO1xuICB9O1xuXG4gIGNvbnN0IHNob3dQcmV2V2VlayA9ICgpID0+IHtcbiAgICBjbGVhckNvbnRhaW5lckNhbGxiYWNrKCk7XG4gICAgUHJvamVjdFN0YXRlLnN0YXJ0RGF5IC09IGZ1bGxEYXlJbk1pbGxpc2Vjb25kcyAqIDc7XG4gICAgcmVuZGVyQ2FsbGJhY2soKTtcbiAgfTtcblxuICBjb25zdCBuZXh0V2Vla0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iod2Vla0J1dHRvbnNTZWxlY3RvcnMubmV4dFdlZWtCdXR0b24pO1xuICBjb25zdCBwcmV2V2Vla0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iod2Vla0J1dHRvbnNTZWxlY3RvcnMucHJldldlZWtCdXR0b24pO1xuXG4gIG5leHRXZWVrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2hvd05leHRXZWVrKTtcbiAgcHJldldlZWtCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzaG93UHJldldlZWspO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgaW5pdFN3aXRjaEJldHdlZW5XZWVrcztcbiIsImltcG9ydCB7IGxvY2FsU3RvcmFnZVRoZW1lS2V5IH0gZnJvbSAnLi4vY29uZmlnL2NvbnN0YW50cyc7XG5cbmNvbnN0IGluaXRUb2dnbGVDb2xvclRoZW1lID0gKHsgYm9keVNlbGVjdG9yLCBib2R5TmV3VGhlbWVDbGFzcywgYnV0dG9uU2VsZWN0b3IgfSkgPT4ge1xuICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihib2R5U2VsZWN0b3IpO1xuICBjb25zdCBjaGFuZ2VDb2xvclRoZW1lQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihidXR0b25TZWxlY3Rvcik7XG5cbiAgY29uc3QgaXNUaGVtZURhcmsgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGxvY2FsU3RvcmFnZVRoZW1lS2V5KSk7XG5cbiAgaWYgKGlzVGhlbWVEYXJrKSB7XG4gICAgYm9keS5jbGFzc0xpc3QuYWRkKGJvZHlOZXdUaGVtZUNsYXNzKTtcbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZUFuZE1lbW9UaGVtZSA9ICgpID0+IHtcbiAgICBpZiAoYm9keS5jbGFzc0xpc3QuY29udGFpbnMoYm9keU5ld1RoZW1lQ2xhc3MpKSB7XG4gICAgICBib2R5LmNsYXNzTGlzdC5yZW1vdmUoYm9keU5ld1RoZW1lQ2xhc3MpO1xuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0obG9jYWxTdG9yYWdlVGhlbWVLZXksIEpTT04uc3RyaW5naWZ5KGZhbHNlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJvZHkuY2xhc3NMaXN0LmFkZChib2R5TmV3VGhlbWVDbGFzcyk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShsb2NhbFN0b3JhZ2VUaGVtZUtleSwgSlNPTi5zdHJpbmdpZnkodHJ1ZSkpO1xuICAgIH1cbiAgfTtcblxuICBjaGFuZ2VDb2xvclRoZW1lQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdG9nZ2xlQW5kTWVtb1RoZW1lKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRUb2dnbGVDb2xvclRoZW1lO1xuIl0sIm5hbWVzIjpbIkFTU0lHTl9CWV9EQVRFIiwiYmFja2xvZ0NhcmRTZWxlY3RvcnMiLCJwYXJlbnRTZWxlY3RvciIsInRlbXBsYXRlU2VsZWN0b3IiLCJlbGVtZW50U2VsZWN0b3IiLCJ0aXRsZVNlbGVjdG9yIiwiZGVzY3JpcHRpb25TZWxlY3RvciIsInN0YXJ0RGF0ZVNlbGVjdG9yIiwiZW5kRGF0ZVNlbGVjdG9yIiwiZHJhZ1N0YXJ0Q2xhc3MiLCJ1c2Vyc0NhcmRTZWxlY3RvcnMiLCJ1c2VyTmFtZVNlbGVjdG9yIiwiZHJhZ092ZXJDbGFzcyIsImNhbGVuZGFyQ29sdW1uU2VsZWN0b3JzIiwiZGF0ZUNlbGxTZWxlY3RvciIsImN1cnJlbnREYXlDbGFzcyIsImNhbGVuZGFyQ2VsbFNlbGVjdG9ycyIsImVsZW1lbnRDbGFzcyIsImNhbGVuZGFyVGFza1NlbGVjdG9ycyIsInN1YnRpdGxlU2VsZWN0b3IiLCJkYXRlU2V0dGluZ3MiLCJ3ZWVrZGF5IiwieWVhciIsIm1vbnRoIiwiZGF5IiwibG9jYWxTdG9yYWdlVGhlbWVLZXkiLCJyZWZpbmVUb1N0cmluZyIsImRhdGUiLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwicmVmaW5lVG9OdW1lcmljWVlNTUREIiwiY29uc3RydWN0b3IiLCJ0aGlzIiwiX3N1YnNjcmliZXJzIiwiX2Fzc2lnbmVkVGFza3MiLCJfYmFja2xvZ1Rhc2tzIiwiX3VzZXJzIiwiX3VzZXJzSWRzIiwiX2NhbGVuZGFyTGVuZ3RoIiwiX2N1cnJlbnREYXRlIiwiX2N1cnJlbnREYXRlTnVtZXJpYyIsIl9zdGFydERheSIsIl91cGRhdGVBbmRTZXREYXRlcyIsIl9yZW1vdmVUYXNrRnJvbUJhY2tsb2ciLCJ0YXNrSWQiLCJmaWx0ZXIiLCJ0YXNrIiwiaWQiLCJfY2FsbFN1YnNjcmliZXJzIiwiZm9yRWFjaCIsImxpc3RlbmVyIiwic3RhcnREYXRlIiwic2V0SG91cnMiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsImdldERheSIsImFzc2lnbmVkVGFza3MiLCJiYWNrbG9nVGFza3MiLCJ1c2Vyc0lkcyIsInVzZXJzIiwidmFsdWUiLCJjYWxlbmRhckxlbmd0aCIsInN0YXJ0RGF5IiwiY3VycmVudERhdGVOdW1lcmljIiwiYWRkVGFza1RvQXNzaWduZWRUYXNrcyIsInB1c2giLCJhc3NpZ25UYXNrIiwidHlwZSIsImV4ZWN1dG9ySWQiLCJ0YXNrVG9CZUFzc2lnbmVkIiwiZmluZCIsImV4ZWN1dG9yIiwicGFyc2UiLCJwbGFuRW5kRGF0ZSIsInBsYW5TdGFydERhdGUiLCJkYXRlRGlmZmVyZW5jZSIsIm5ld0VuZERhdGUiLCJhZGRUYXNrVG9CYWNrbG9nIiwibWFwVXNlcnNJZHMiLCJpZHMiLCJyZWR1Y2UiLCJvYmoiLCJpIiwiYWRkU3Vic2NyaWJlcnMiLCJzdWJzY3JpYmVycyIsImFzeW5jIiwicm91dGUiLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9lbGVtZW50U2VsZWN0b3IiLCJfZ2V0VGVtcGxhdGUiLCJfdGVtcGxhdGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZERhdGEiLCJzdXBlciIsIl9jYXJkRGF0YSIsIl9iYWNrbG9nQ2FyZCIsIl9kcmFnU3RhcnRDbGFzcyIsIl9jYXJkVGl0bGUiLCJfY2FyZERlc2NyaXB0aW9uIiwiX2NhcmRTdGFydERhdGUiLCJfY2FyZEVuZERhdGUiLCJfaGFuZGxlRHJhZ1N0YXJ0IiwiYmluZCIsIl9oYW5kbGVEcmFnRW5kIiwiZXZ0IiwiY2xhc3NMaXN0IiwiYWRkIiwiZGF0YVRyYW5zZmVyIiwic2V0RGF0YSIsImVmZmVjdEFsbG93ZWQiLCJyZW1vdmUiLCJjcmVhdGVDYXJkIiwidGV4dENvbnRlbnQiLCJzdWJqZWN0IiwiZGVzY3JpcHRpb24iLCJzZXRBdHRyaWJ1dGUiLCJzZXRFdmVudExpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb250YWluZXJTZWxlY3RvciIsIl9jb250YWluZXIiLCJjbGVhckl0ZW1zIiwiYWRkSXRlbSIsIml0ZW0iLCJhcHBlbmQiLCJhZGRUZXh0Q29udGVudCIsIl90YXNrIiwiX3Rhc2tFbGVtZW50IiwiX3RpdGxlRUxlbWVudCIsIl9zdWJ0aXRsZUVMZW1lbnQiLCJfZGVzY3JpcHRpb25FbGVtZW50IiwiX3N0YXJ0RGF0ZUVsZW1lbnQiLCJfZW5kRGF0ZUVsZW1lbnQiLCJjcmVhdGVUYXNrIiwiY2VsbCIsIl9jZWxsIiwiX2NlbGxFbGVtZW50IiwiX2FkZEl0ZW0iLCJjcmVhdGVDZWxsIiwicmVuZGVySXRlbXMiLCJ0YXNrcyIsIm5ld1Rhc2siLCJjb2x1bW4iLCJfY29sdW1uIiwiX2NhbGVuZGFyQ29sdW1uIiwiX2RhdGVFbGVtZW50IiwiX2N1cnJlbnREYXlDbGFzcyIsIl9kYXlUYXNrc1NjaGVtYSIsIl9nZXRUYXNrc0ZvckN1cnJlbnREYXkiLCJwYXJzZWRDb2x1bW5EYXRlIiwiX2dldERheVRhc2tzU2NoZW1hIiwiX3Rhc2tzRm9yQ3VycmVudERheSIsImNyZWF0ZUNlbGxzIiwidXNlcklkIiwiY29sdW1uQ2VsbCIsImNlbGxFbGVtZW50IiwiY3JlYXRlQ2FsZW5kYXJDb2x1bW4iLCJjb2x1bW5EYXRlIiwiX3VzZXJDYXJkIiwiX2Z1bGxOYW1lRWxlbWVudCIsIl9kcmFnT3ZlckNsYXNzIiwiX2hhbmRsZURyYWdPdmVyIiwiX2hhbmRsZURyYWdMZWF2ZSIsIl9oYW5kbGVEcm9wIiwidHlwZXMiLCJwcmV2ZW50RGVmYXVsdCIsImdldERhdGEiLCJmaXJzdE5hbWUiLCJzdXJuYW1lIiwicmVtb3ZlQW5pbWF0aW9uIiwiZWxlbWVudCIsInNldFRpbWVvdXQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJhcHBseVNsaWRlSW5Cb3R0b21VcEFuaW0iLCJpbmRleCIsInBhZ2UiLCJwcmVsb2FkZXIiLCJwb3B1cEVycm9yIiwic2VsZWN0b3JzIiwiX3NlbGVjdG9ycyIsIl9wb3B1cCIsIm9wZW4iLCJwb3B1cE9wZW5DbGFzcyIsIl9jbG9zZSIsImJhY2tsb2dMaXN0IiwidXNlcnNMaXN0IiwiY2FsZW5kYXJDb250YWluZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsIl9kcm9wcGFibGVDZWxsIiwiY2xvc2VzdCIsImRhdGFzZXQiLCJyZW5kZXJDb2x1bW5zIiwiaXNBbmltYXRlZCIsImRhdGVTdHJpbmciLCJjb2x1bW5FbGVtZW50IiwiY3JlYXRlQmFja2xvZ0NhcmQiLCJiYWNrbG9nQ2FyZCIsIm5ld0JhY2tsb2dDYXJkIiwicmVuZGVyQmFja2xvZ1Rhc2tzIiwidXNlciIsInVzZXJDYXJkIiwibmV3VXNlckNhcmQiLCJyZW5kZXJVc2VycyIsImVyciIsImdldEluaXRpYWxEYXRhIiwiY29udGFpbmVyIiwiY3JlYXRlQ2FyZENhbGxiYWNrIiwicmVuZGVyQ2FsbGJhY2siLCJzZWFyY2hGb3JtIiwic2VhcmNoSW5wdXQiLCJzdWJtaXRCdXR0b24iLCJrZXl3b3JkIiwicmVzdWx0IiwibGVuZ3RoIiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImRpc2FibGVkIiwiY2xlYXJDb250YWluZXJDYWxsYmFjayIsIm5leHRXZWVrQnV0dG9uIiwicHJldldlZWtCdXR0b24iLCJmdWxsRGF5SW5NaWxsaXNlY29uZHMiLCJib2R5U2VsZWN0b3IiLCJib2R5TmV3VGhlbWVDbGFzcyIsImJ1dHRvblNlbGVjdG9yIiwiYm9keSIsImNoYW5nZUNvbG9yVGhlbWVCdXR0b24iLCJKU09OIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJidXR0b25OZXdUaGVtZUNsYXNzIl0sInNvdXJjZVJvb3QiOiIifQ==